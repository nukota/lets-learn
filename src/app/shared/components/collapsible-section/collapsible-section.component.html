<div
  class="section"
  #collapsibleRef
  [style.max-height]="maxCollapsibleHeight"
  [class.collapsed]="!isExpanded"
>
  <div class="section-header" (click)="toggleExpand()">
    <div class="section-title">
      <div class="toggle-icon" [class.rotate-right]="!isExpanded">
        <span class="material-symbols-outlined"> keyboard_arrow_down </span>
      </div>
      <ng-content select="[title]"></ng-content>

      @if(isEditing) {
      <span class="material-symbols-outlined"> stylus </span>
      }
    </div>
    @if(canEdit) { @if(isEditing) {
    <span class="material-symbols-outlined check" (click)="toggleEdit($event)">
      check_circle
    </span>
    } @else {
    <span class="material-symbols-outlined" (click)="toggleEdit($event)">
      stylus
    </span>
    } }
  </div>

  <ng-content select="[content]"></ng-content>
</div>
